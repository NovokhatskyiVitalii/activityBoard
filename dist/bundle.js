(()=>{"use strict";const e=()=>{(async function(e="/data.json"){const t=await fetch(e);return await t.json()})().then((t=>{const i=t.map((t=>new e(t))),a=document.querySelectorAll(".view-selector_item");a.forEach((e=>{e.addEventListener("click",(()=>{a.forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.innerText.trim().toLowerCase();i.forEach((e=>e.changeView(t)))}))}))}));class e{static PERIODS={daily:"day",weekly:"week",monthly:"month"};constructor(e,t=".dashboard_content",i="weekly"){this.data=e,this.container=document.querySelector(t),this.view=i,this.createMarkup()}createMarkup(){const{title:t,timeframes:i}=this.data,a=t.toLowerCase().replace(/ /g,"-"),{current:s,previous:r}=i[this.view.toLowerCase()];this.container.insertAdjacentHTML("beforeend",`\n            <div class="dashboard_item ${a}">\n            <article class="tracking-card">\n                <header class="tracking-card_header">\n                    <h4 class="tracking-card_title">${t}</h4>\n                    <img class="tracking-card_menu" src="src/img/icon-ellipsis.svg" alt="menu">\n                </header>\n                <div class="tracking-card_body">\n                    <div class="tracking-card_time">\n                        ${s}hrs\n                    </div>\n                    <div class="tracking-prev_period">\n                        Last ${e.PERIODS[this.view]} - ${r}hrs\n                    </div>\n                </div>\n            </article>\n        </div>\n            `),this.time=this.container.querySelector(`.dashboard_item.${a} .tracking-card_time`),this.prev=this.container.querySelector(`.dashboard_item.${a} .tracking-prev_period`),console.log(this.time),console.log(this.prev)}changeView=t=>{this.view=t.toLowerCase();const{current:i,previous:a}=this.data.timeframes[this.view.toLowerCase()];this.time.innerText=`${i}hrs`,this.prev.innerText=` Last ${e.PERIODS[this.view]} - ${a}hrs`}}};window.addEventListener("DOMContentLoaded",(()=>{e()}))})();